# Bearing Dynamics Simulation and Analysis

[English Version](https://github.com/BiaWei/Bearing-Dynamics/blob/main/README.md) | [简体中文](https://github.com/BiaWei/Bearing-Dynamics/blob/main/README.zh.md)

This document is generated by ChatGPT. There may be errors or inaccuracies; please refer to the source code for validation.

## Project Overview

This project utilizes MATLAB to model, simulate, and analyze the dynamic behavior of bearing systems under outer race faults. The simulation incorporates bearing parameters, system parameters, and fault parameters. By solving the differential equations governing bearing dynamics, the program outputs simulation results, which are visualized and analyzed graphically.

## Features

The project provides the following main functionalities:
1. **Parameter Loading**: Load bearing, system, and fault parameters from an Excel file.
2. **Dynamic Simulation**: Solve the differential equations of bearing dynamics using `ode45`.
3. **Result Saving**: Save simulation results to `.mat` files.
4. **Result Analysis**: Generate various plots, including displacement, velocity, contact forces, and spectra.

## Instructions

### 1. File Structure
- `simulation.m`: Main script to perform bearing dynamics simulation and result analysis.
- `systemparameter/para.xlsx`: Parameter file containing bearing, system, and fault parameters.
- `results/`: Directory to store simulation results.
- `resultAnalysis2.m`: Result analysis script to generate plots.

### 2. Subfile Descriptions

#### model/
- `BearingDynamicModel.m`: The bearing dynamics model.

$$ M_{Bearing}\ddot{X} + C_x \dot{X} + K_x X = F_{\text{Initial},x} + F_{\text{Hertz},x} $$
$$ M_{Bearing}\ddot{Y} + C_y \dot{Y} + K_y Y = F_{\text{Initial},y} + F_{\text{Hertz},y} $$
$$ {I_{\text{Equivalent}}} \ddot{\theta} + C_{\text{Outer}} \dot{\theta} = T_{\text{Input}} + T_{\text{Resistance}} $$

#### function/
- `ComputeBallPosition.m`: Calculate the angular positions of rolling elements at a given time.
- `ComputeContactForce.m`: Compute Hertzian contact forces and total force components.
- `ComputeIAS.m`: Compute the instantaneous angular and linear speeds of rolling elements and the cage.
- `ComputeNthBallDeformation.m`: Calculate the deformation of rolling elements, including fault effects.
- `ComputeRollingResistance.m`: Compute rolling resistance forces and the resulting resistance torque.

#### function/DSP
- `EnvSpec.m`: Compute the envelope curve, envelope spectrum, and mean-centered signal.
- `myFFT.m`: Compute the fast Fourier transform (FFT) spectrum and corresponding frequency axis.

### 3. Parameter File Details

#### Excel Table Fields:
- **Bearing Parameters** (`A3:H3`): Includes damping, stiffness, mass, radius, number of rolling elements, etc.
- **System Parameters** (`A7:H7`): Includes outer race damping, equivalent inertia, radial clearance, Hertz contact stiffness, input torque, etc.
- **Analysis Parameters** (`A12:B12`): Includes simulation time limit and time step.
- **Fault Parameters** (`A16:D16`): Includes fault type, depth, position, and length.

### 4. Simulation Steps
1. Run `simulation.m` to automatically:
   - Load parameters from `systemparameter/para.xlsx`.
   - Initialize time steps and initial states.
   - Solve the bearing dynamics differential equations.
   - Save the simulation results to `results/Solution.mat`.
2. Run `resultAnalysis.m` to generate result plots.

## Result Plots

### 1. Bearing Displacement vs. Time
- **Description**: Shows the displacement of the bearing in the X and Y directions over time.
- **Characteristics**:
  - Subplot 1: X-direction displacement (Unit: m).
  - Subplot 2: Y-direction displacement (Unit: m).

![Figure 1](https://raw.githubusercontent.com/BiaWei/Bearing-Dynamics/refs/heads/main/examples/figure1.png "Figure 1")

### 2. Instantaneous Angular Speed and Rotational Speed vs. Time
- **Description**: Displays the instantaneous angular speed (IAS) and rotational speed over time.
- **Characteristics**:
  - Subplot 1: IAS (Unit: rad/s).
  - Subplot 2: Rotational speed (Unit: RPM).

![Figure 2](https://raw.githubusercontent.com/BiaWei/Bearing-Dynamics/refs/heads/main/examples/figure2.png "Figure 2")

### 3. Instantaneous Angular Speed vs. Shaft Rotation Angle
- **Description**: Shows the relationship between the instantaneous angular speed (IAS) and the shaft rotation angle (Unit: revolutions).
- **Characteristics**:
  - X-axis: Shaft rotation angle (Unit: revolutions).
  - Y-axis: IAS (Unit: rad/s).

![Figure 3](https://raw.githubusercontent.com/BiaWei/Bearing-Dynamics/refs/heads/main/examples/figure3.png "Figure 3")

### 4. Contact Force Distribution at 1.5s
- **Description**: Displays the contact force on each rolling element at 1.5 seconds.
- **Characteristics**:
  - X-axis: Rolling element number.
  - Y-axis: Contact force (Unit: N).

![Figure 4](https://raw.githubusercontent.com/BiaWei/Bearing-Dynamics/refs/heads/main/examples/figure4.png "Figure 4")

### 5. Angular-Variant Contact Force on Each Ball
- **Description**: Shows the contact forces of rolling elements varying with the shaft rotation angle.
- **Characteristics**:
  - X-axis: Shaft rotation angle (Unit: revolutions).
  - Y-axis: Contact force (Unit: N).
  - Includes curves for all rolling elements with a legend.

![Figure 5](https://raw.githubusercontent.com/BiaWei/Bearing-Dynamics/refs/heads/main/examples/figure5.png "Figure 5")

### 6. Envelope Curve of Outer Ring Acceleration vs. Time
- **Description**: Displays the envelope curve and the mean-centered signal of the outer ring acceleration over time.
- **Characteristics**:
  - Curve 1: Envelope curve (red).
  - Curve 2: Mean-centered signal (blue).
  - X-axis: Time (Unit: s).
  - Y-axis: Amplitude.

![Figure 6](https://raw.githubusercontent.com/BiaWei/Bearing-Dynamics/refs/heads/main/examples/figure6.png "Figure 6")

### 7. Envelope Spectrum vs. Frequency
- **Description**: Shows the envelope spectrum of the outer ring acceleration signal over frequency.
- **Characteristics**:
  - X-axis: Frequency (Unit: Hz).
  - Y-axis: Amplitude.
  - The fault characteristic frequency is __77 Hz__.

![Figure 7](https://raw.githubusercontent.com/BiaWei/Bearing-Dynamics/refs/heads/main/examples/figure7.png "Figure 7")

### 8. FFT Spectrum vs. Frequency
- **Description**: Displays the FFT spectrum of the outer ring acceleration signal, showing only the non-negative frequencies.
- **Characteristics**:
  - X-axis: Frequency (Unit: Hz).
  - Y-axis: Amplitude.

![Figure 8](https://raw.githubusercontent.com/BiaWei/Bearing-Dynamics/refs/heads/main/examples/figure8.png "Figure 8")

## System Requirements
- MATLAB Version: R2020a or later.
- Operating System: Windows or Linux.

## Notes
1. Ensure the path to `systemparameter/para.xlsx` is correct and the file format is valid.
2. Ensure the `results/` directory exists to save output plots.

## Contribution
If you wish to extend or modify this project, please ensure:
- Detailed code comments and functionality descriptions are provided.
- All changes are tested for compatibility with existing features.

---

Thank you for using this project! For any questions, please contact the developer.
